cmake_minimum_required(VERSION 3.19.0)
project(
	NSFemSolver
	VERSION 0.1.0
	DESCRIPTION "Finite element method solver for the Navier-Stokes equations." 
)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Path to where <package>-confng.cmake files generated by conan cmake_find_package are located
if(NOT DEFINED CMAKE_PREFIX_PATH)
	set(CMAKE_PREFIX_PATH ${CMAKE_BINARY_DIR})
endif()

find_package(sparse_matrix_math REQUIRED CONFIG)
find_package(nlohmann_json REQUIRED CONFIG)

set(CPP
	cpp/main.cpp
	cpp/grid.cpp
	cpp/assembly.cpp
)

set(HEADERS
	include/grid.h
	include/assembly.h
)

add_executable(${PROJECT_NAME} ${CPP} ${HEADERS})

target_include_directories(${PROJECT_NAME} PRIVATE include)
target_link_libraries(${PROJECT_NAME} INTERFACE sparse_matrix_math::sparse_matrix_math)
target_link_libraries(${PROJECT_NAME} PRIVATE nlohmann_json::nlohmann_json)